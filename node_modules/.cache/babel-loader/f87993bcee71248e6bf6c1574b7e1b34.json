{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/Armel/Perfect/Local/front/src/components/panierList.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Footer from './../components/Footer';\nimport { Redirect } from 'react-router-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { MDBNavbar, MDBInput, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBContainer } from \"mdbreact\";\nimport { MDBCarousel, MDBCarouselCaption, MDBCarouselInner, MDBCarouselItem, MDBView, MDBMask } from \"mdbreact\";\nimport { MDBBtn, MDBDropdown, MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem } from 'mdbreact';\nimport { confirmAlert } from 'react-confirm-alert';\nimport './article.css';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\nclass Panier extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.toggleCollapse = collapseID => () => this.setState(prevState => ({\n      collapseID: prevState.collapseID !== collapseID ? collapseID : \"\"\n    }));\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        var url = '/service/' + this.state._id;\n        return React.createElement(Redirect, {\n          to: url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.state = {\n      nom: '',\n      password: '',\n      collapseID: \"\",\n      comment: [],\n      list: [],\n      clientList: [],\n      modal: '',\n      service: [],\n      resultat: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:8080/service\").then(res => {\n      var tab = [];\n\n      for (let i = 0; i < res.data.length; i++) {\n        if (res.data[i].active == true) {\n          tab.push(res.data[i]);\n        } // localStorage.setItem('idService' + res.data[i]._id, res.data[i]._id)\n\n      }\n\n      this.setState({\n        comment: tab\n      });\n      axios.get('http://localhost:8080/getList').then(response => {\n        this.setState({\n          list: response.data\n        });\n        console.log('listPANIER:', this.state.list);\n        var tab1 = [];\n        var obj = {};\n        var out = [];\n\n        for (let i = 0; i < this.state.list.length; i++) {\n          tab1.push(this.state.list[i].idClient);\n          obj[tab1[i]] = 0;\n        }\n\n        for (let j in obj) {\n          console.log('j:', j);\n          out.push(j);\n        }\n\n        this.setState({\n          clientList: out\n        });\n        console.log('clientListPANIER', clientList);\n\n        for (let k = 0; k < out.length; k++) {\n          localStorage.setItem('clientList' + k, out[k]);\n          console.log('LOCALclientListPANIER:', localStorage.getItem('clientList'));\n        }\n\n        console.log('list:', this.state.list);\n\n        if (this.state.list.length < this.state.comment.length) {\n          for (let j = 0; j < this.state.list.length; j++) {\n            localStorage.setItem('afficheList' + this.state.comment[j]._id, this.state.list[j].afficheList);\n          }\n\n          for (let j = this.state.list.length; j < this.state.comment.length; j++) {// localStorage.setItem('afficheList' + this.state.comment[j]._id, 'false')\n          }\n        } else {\n          for (let j = 0; j < this.state.list.length; j++) {\n            localStorage.setItem('afficheList' + this.state.list[j]._id, this.state.list[j].afficheList);\n          }\n        } //DEBUT\n\n\n        var listService = [];\n        var tabListOK = [];\n\n        for (let i = 0; i < this.state.list.length; i++) {\n          if (localStorage.getItem('idClient') == this.state.list[i].idClient) {\n            listService.push(this.state.list[i]);\n          }\n        }\n\n        console.log('ListService:', listService);\n\n        for (let j = 0; j < listService.length; j++) {\n          tabListOK.push(res.data[listService[j].idService]);\n        }\n\n        this.setState({\n          service: tabListOK\n        });\n        console.log('OK:', tabListOK);\n        var resul = [];\n\n        for (let x = 0; x < tabListOK.length; x++) {\n          if (listService[x].afficheList == 'true') {\n            // localStorage.setItem('afficheList' + tabListOK[x]._id, 'true')\n            resul.push(tabListOK[x]);\n          } // else {\n          //     localStorage.setItem('afficheList' + tabListOK[x]._id, 'false')\n          //     resul.push({ idServ: tabListOK[x]._id, aff: false })\n          // }\n\n        }\n\n        this.setState({\n          comment: resul\n        });\n        console.log('res mody:', this.state.comment); //FIN \n      });\n    });\n  }\n\n  affichages() {\n    axios.get(\"http://localhost:8080/service\").then(res => {\n      axios.get('http://localhost:8080/getList').then(response => {\n        var listService = [];\n        var tabListOK = [];\n\n        for (let i = 0; i < response.data.length; i++) {\n          if (localStorage.getItem('idClient') == response.data[i].idClient) {\n            listService.push(response.data[i]);\n          }\n        }\n\n        console.log('ListService:', listService);\n\n        for (let j = 0; j < listService.length; j++) {\n          console.log('test:', res);\n          tabListOK.push(res.data[listService[j].idService]);\n        }\n\n        this.setState({\n          service: tabListOK\n        });\n        console.log('OK:', tabListOK);\n        var resul = [];\n\n        for (let x = 0; x < tabListOK.length; x++) {\n          if (listService[x].afficheList == 'true') {\n            resul.push(tabListOK[x]);\n          }\n        }\n\n        this.setState({\n          resultat: resul\n        });\n        console.log('res mody:', this.state.resultat);\n      });\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  triage(categorie) {\n    axios.get(\"http://localhost:8080/service\").then(res => {\n      console.log('res comment: ', res.data);\n      var tab = [];\n\n      for (let i = 0; i < res.data.length; i++) {\n        if (res.data[i].categorie == categorie && res.data[i].active == true) {\n          tab.push(res.data[i]);\n        }\n      }\n\n      this.setState({\n        comment: tab\n      });\n      console.log('comment: ', this.state.comment);\n    });\n  }\n\n  signin() {\n    axios.post('http://localhost:8080/signin', {\n      nom: this.state.nom,\n      password: this.state.password\n    }).then(response => {\n      console.log(\"post ok: res.data \", response.data);\n      localStorage.setItem('idClient', parseInt(response.data._id));\n      localStorage.setItem('nomClient', response.data.nom);\n      console.log('reducer REGISTER: ', localStorage.getItem('login'));\n    }).catch(error => {\n      console.log(\"erreur be: \", error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(MDBNavbar, {\n      id: \"Totalhome\",\n      color: \"bg-primary\",\n      dark: true,\n      expand: \"md\",\n      scrolling: true,\n      className: \"position-fixed\",\n      style: {\n        position: 'absolute',\n        zIndex: '1000',\n        float: 'left',\n        width: '103.2%',\n        marginLeft: '-3%',\n        marginBottom: '10%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(MDBNavbarBrand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"../images/logoPM.png\",\n      id: \"logo-header\",\n      alt: \"imagelogo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })), React.createElement(MDBNavbarToggler, {\n      image: \"../images/hamburger3.gif\",\n      onClick: this.toggleCollapse(\"navbarCollapse\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(MDBCollapse, {\n      id: \"navbarCollapse\",\n      isOpen: this.state.collapseID,\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(MDBNavbarNav, {\n      right: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(MDBNavItem, {\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/\",\n      className: \"item accueil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Accueil\")), React.createElement(MDBNavItem, {\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(MDBNavLink, {\n      to: \"/\",\n      className: \"accueil\",\n      onClick: () => {\n        localStorage.removeItem('idClient');\n        localStorage.removeItem('idClient');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"D\\xE9connexion\"))))), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        marginLeft: '43%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"************** \", this.state.comment.length, \" r\\xE9sultats **************\"), this.state.comment.length > 0 ? this.state.comment.sort((a, b) => {\n      return b._id - a._id;\n    }).map((service, _id) => React.createElement(\"div\", {\n      key: _id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, localStorage.setItem('idService' + service._id, service._id), React.createElement(\"div\", {\n      className: \"card col-md-12 carte \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, service._id % 2 == 0 ? React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      class: \"card-img-top img-thumbnail\",\n      src: \"http://localhost:8080/service/\" + service.image,\n      alt: service.titre,\n      style: {\n        width: '80%',\n        height: '100%',\n        maxHeight: '100%',\n        float: 'left',\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      class: \"card-img-top img-thumbnail\",\n      src: \"http://localhost:8080/service/\" + service.image1,\n      alt: service.titre,\n      style: {\n        width: '20%',\n        height: '50%',\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      class: \"card-img-top img-thumbnail\",\n      src: \"http://localhost:8080/service/\" + service.image2,\n      alt: service.titre,\n      style: {\n        width: '20%',\n        height: '50%',\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      class: \"card-title\",\n      style: {\n        color: 'rgb(255, 20, 51)',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, service.titre)), React.createElement(\"h5\", {\n      class: \"test\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Description:\"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }), \"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ad minus magni similique dignissimos assumenda labore iure velit voluptatibus doloribus adipisci soluta voluptas illum vero, excepturi sapiente laborum deserunt, sint ipsa. Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt nam facilis quae! Laborum maxime dolores aspernatur error fugit perspiciatis, recusandae, voluptas accusantium libero molestiae laudantium iure porro similique voluptatibus quis?\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, this.state.resultat))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      class: \"card-title\",\n      style: {\n        color: 'rgb(255, 20, 51)',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, service.titre)), React.createElement(\"h5\", {\n      class: \"test\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Description:\"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }), \"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ad minus magni similique dignissimos assumenda labore iure velit voluptatibus doloribus adipisci soluta voluptas illum vero, excepturi sapiente laborum deserunt, sint ipsa. Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt nam facilis quae! Laborum maxime dolores aspernatur error fugit perspiciatis, recusandae, voluptas accusantium libero molestiae laudantium iure porro similique voluptatibus quis?\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      class: \"card-img-top img-thumbnail\",\n      src: \"http://localhost:8080/service/\" + service.image,\n      alt: service.titre,\n      style: {\n        width: '80%',\n        height: '100%',\n        float: 'right',\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      class: \"card-img-top img-thumbnail\",\n      src: \"http://localhost:8080/service/\" + service.image1,\n      alt: service.titre,\n      style: {\n        width: '20%',\n        height: '50%',\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      class: \"card-img-top img-thumbnail\",\n      src: \"http://localhost:8080/service/\" + service.image2,\n      alt: service.titre,\n      style: {\n        width: '20%',\n        height: '50%',\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    })))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }))) : React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Vous n'avez pas de liste\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    client: state\n  };\n};\n\nexport default connect(mapStateToProps)(Panier);","map":{"version":3,"sources":["/home/dev/Bureau/Armel/Perfect/Local/front/src/components/panierList.jsx"],"names":["React","connect","axios","Footer","Redirect","BrowserRouter","Router","MDBNavbar","MDBInput","MDBNavbarBrand","MDBNavbarNav","MDBNavItem","MDBNavLink","MDBNavbarToggler","MDBCollapse","MDBContainer","MDBCarousel","MDBCarouselCaption","MDBCarouselInner","MDBCarouselItem","MDBView","MDBMask","MDBBtn","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","confirmAlert","Panier","Component","constructor","props","toggle","setState","modal","state","toggleCollapse","collapseID","prevState","renderRedirect","redirect","url","_id","nom","password","comment","list","clientList","service","resultat","handleChange","bind","componentDidMount","get","then","res","tab","i","data","length","active","push","response","console","log","tab1","obj","out","idClient","j","k","localStorage","setItem","getItem","afficheList","listService","tabListOK","idService","resul","x","affichages","e","target","name","value","triage","categorie","signin","post","parseInt","catch","error","render","position","zIndex","float","width","marginLeft","marginBottom","removeItem","sort","a","b","map","image","titre","height","maxHeight","border","image1","image2","color","fontWeight","mapStateToProps","client"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,aAAa,IAAIC,MAA1B,QAAwC,kBAAxC;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,cAA9B,EAA8CC,YAA9C,EAA4DC,UAA5D,EAAwEC,UAAxE,EAAoFC,gBAApF,EAAsGC,WAAtG,EAAmHC,YAAnH,QAAuI,UAAvI;AACA,SAASC,WAAT,EAAsBC,kBAAtB,EAA0CC,gBAA1C,EAA4DC,eAA5D,EAA6EC,OAA7E,EAAsFC,OAAtF,QAAqG,UAArG;AACA,SAASC,MAAT,EAAiBC,WAAjB,EAA8BC,iBAA9B,EAAiDC,eAAjD,EAAkEC,eAAlE,QAAyF,UAAzF;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAO,eAAP;AACA,OAAO,iDAAP;;AAEA,MAAMC,MAAN,SAAqB5B,KAAK,CAAC6B,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgBnBC,MAhBmB,GAgBV,MAAM;AACX,WAAKC,QAAL,CAAc;AACVC,QAAAA,KAAK,EAAE,CAAC,KAAKC,KAAL,CAAWD;AADT,OAAd;AAGH,KApBkB;;AAAA,SAuBnBE,cAvBmB,GAuBFC,UAAU,IAAI,MAC3B,KAAKJ,QAAL,CAAcK,SAAS,KAAK;AACxBD,MAAAA,UAAU,EAAEC,SAAS,CAACD,UAAV,KAAyBA,UAAzB,GAAsCA,UAAtC,GAAmD;AADvC,KAAL,CAAvB,CAxBe;;AAAA,SA4BnBE,cA5BmB,GA4BF,MAAM;AACnB,UAAI,KAAKJ,KAAL,CAAWK,QAAf,EAAyB;AACrB,YAAIC,GAAG,GAAG,cAAc,KAAKN,KAAL,CAAWO,GAAnC;AACA,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAED,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;AACJ,KAjCkB;;AAEf,SAAKN,KAAL,GAAa;AACTQ,MAAAA,GAAG,EAAE,EADI;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTP,MAAAA,UAAU,EAAE,EAHH;AAITQ,MAAAA,OAAO,EAAE,EAJA;AAKTC,MAAAA,IAAI,EAAE,EALG;AAMTC,MAAAA,UAAU,EAAE,EANH;AAOTb,MAAAA,KAAK,EAAE,EAPE;AAQTc,MAAAA,OAAO,EAAE,EARA;AASTC,MAAAA,QAAQ,EAAE;AATD,KAAb;AAWA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAqBDC,EAAAA,iBAAiB,GAAG;AAEhBlD,IAAAA,KAAK,CAACmD,GAAN,CAAU,+BAAV,EAA2CC,IAA3C,CAAgDC,GAAG,IAAI;AACnD,UAAIC,GAAG,GAAG,EAAV;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAA7B,EAAqCF,CAAC,EAAtC,EAA0C;AACtC,YAAIF,GAAG,CAACG,IAAJ,CAASD,CAAT,EAAYG,MAAZ,IAAsB,IAA1B,EAAgC;AAC5BJ,UAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACG,IAAJ,CAASD,CAAT,CAAT;AACH,SAHqC,CAItC;;AACH;;AACD,WAAKxB,QAAL,CAAc;AAAEY,QAAAA,OAAO,EAAEW;AAAX,OAAd;AACAtD,MAAAA,KAAK,CAACmD,GAAN,CAAU,+BAAV,EAA2CC,IAA3C,CAAgDQ,QAAQ,IAAI;AACxD,aAAK7B,QAAL,CAAc;AAAEa,UAAAA,IAAI,EAAEgB,QAAQ,CAACJ;AAAjB,SAAd;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAK7B,KAAL,CAAWW,IAAtC;AAEA,YAAImB,IAAI,GAAG,EAAX;AACA,YAAIC,GAAG,GAAG,EAAV;AACA,YAAIC,GAAG,GAAG,EAAV;;AACA,aAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,KAAL,CAAWW,IAAX,CAAgBa,MAApC,EAA4CF,CAAC,EAA7C,EAAiD;AAC7CQ,UAAAA,IAAI,CAACJ,IAAL,CAAU,KAAK1B,KAAL,CAAWW,IAAX,CAAgBW,CAAhB,EAAmBW,QAA7B;AACAF,UAAAA,GAAG,CAACD,IAAI,CAACR,CAAD,CAAL,CAAH,GAAe,CAAf;AACH;;AACD,aAAK,IAAIY,CAAT,IAAcH,GAAd,EAAmB;AACfH,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBK,CAAlB;AACAF,UAAAA,GAAG,CAACN,IAAJ,CAASQ,CAAT;AACH;;AACD,aAAKpC,QAAL,CAAc;AAAEc,UAAAA,UAAU,EAAEoB;AAAd,SAAd;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCjB,UAAhC;;AAEA,aAAK,IAAIuB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,GAAG,CAACR,MAAxB,EAAgCW,CAAC,EAAjC,EAAqC;AACjCC,UAAAA,YAAY,CAACC,OAAb,CAAqB,eAAeF,CAApC,EAAuCH,GAAG,CAACG,CAAD,CAA1C;AACAP,UAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCO,YAAY,CAACE,OAAb,CAAqB,YAArB,CAAtC;AACH;;AACDV,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAK7B,KAAL,CAAWW,IAAhC;;AACA,YAAI,KAAKX,KAAL,CAAWW,IAAX,CAAgBa,MAAhB,GAAyB,KAAKxB,KAAL,CAAWU,OAAX,CAAmBc,MAAhD,EAAwD;AACpD,eAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlC,KAAL,CAAWW,IAAX,CAAgBa,MAApC,EAA4CU,CAAC,EAA7C,EAAiD;AAC7CE,YAAAA,YAAY,CAACC,OAAb,CAAqB,gBAAgB,KAAKrC,KAAL,CAAWU,OAAX,CAAmBwB,CAAnB,EAAsB3B,GAA3D,EAAgE,KAAKP,KAAL,CAAWW,IAAX,CAAgBuB,CAAhB,EAAmBK,WAAnF;AACH;;AACD,eAAK,IAAIL,CAAC,GAAG,KAAKlC,KAAL,CAAWW,IAAX,CAAgBa,MAA7B,EAAqCU,CAAC,GAAG,KAAKlC,KAAL,CAAWU,OAAX,CAAmBc,MAA5D,EAAoEU,CAAC,EAArE,EAAyE,CACrE;AACH;AACJ,SAPD,MAOO;AACH,eAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlC,KAAL,CAAWW,IAAX,CAAgBa,MAApC,EAA4CU,CAAC,EAA7C,EAAiD;AAC7CE,YAAAA,YAAY,CAACC,OAAb,CAAqB,gBAAgB,KAAKrC,KAAL,CAAWW,IAAX,CAAgBuB,CAAhB,EAAmB3B,GAAxD,EAA6D,KAAKP,KAAL,CAAWW,IAAX,CAAgBuB,CAAhB,EAAmBK,WAAhF;AACH;AACJ,SAlCuD,CAqCxD;;;AACA,YAAIC,WAAW,GAAG,EAAlB;AACA,YAAIC,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,KAAL,CAAWW,IAAX,CAAgBa,MAApC,EAA4CF,CAAC,EAA7C,EAAiD;AAC7C,cAAIc,YAAY,CAACE,OAAb,CAAqB,UAArB,KAAoC,KAAKtC,KAAL,CAAWW,IAAX,CAAgBW,CAAhB,EAAmBW,QAA3D,EAAqE;AACjEO,YAAAA,WAAW,CAACd,IAAZ,CAAiB,KAAK1B,KAAL,CAAWW,IAAX,CAAgBW,CAAhB,CAAjB;AACH;AACJ;;AACDM,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BW,WAA5B;;AAEA,aAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,WAAW,CAAChB,MAAhC,EAAwCU,CAAC,EAAzC,EAA6C;AACzCO,UAAAA,SAAS,CAACf,IAAV,CAAeN,GAAG,CAACG,IAAJ,CAASiB,WAAW,CAACN,CAAD,CAAX,CAAeQ,SAAxB,CAAf;AACH;;AACD,aAAK5C,QAAL,CAAc;AAAEe,UAAAA,OAAO,EAAE4B;AAAX,SAAd;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBY,SAAnB;AAEA,YAAIE,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACjB,MAA9B,EAAsCoB,CAAC,EAAvC,EAA2C;AACvC,cAAIJ,WAAW,CAACI,CAAD,CAAX,CAAeL,WAAf,IAA8B,MAAlC,EAA0C;AACtC;AACAI,YAAAA,KAAK,CAACjB,IAAN,CAAWe,SAAS,CAACG,CAAD,CAApB;AACH,WAJsC,CAKvC;AACA;AACA;AACA;;AACH;;AACD,aAAK9C,QAAL,CAAc;AAAEY,UAAAA,OAAO,EAAEiC;AAAX,SAAd;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAK7B,KAAL,CAAWU,OAApC,EAjEwD,CAkExD;AAEH,OApED;AAqEH,KA9ED;AAgFH;;AAEDmC,EAAAA,UAAU,GAAG;AACT9E,IAAAA,KAAK,CAACmD,GAAN,CAAU,+BAAV,EAA2CC,IAA3C,CAAgDC,GAAG,IAAI;AACnDrD,MAAAA,KAAK,CAACmD,GAAN,CAAU,+BAAV,EAA2CC,IAA3C,CAAgDQ,QAAQ,IAAI;AACxD,YAAIa,WAAW,GAAG,EAAlB;AACA,YAAIC,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,QAAQ,CAACJ,IAAT,CAAcC,MAAlC,EAA0CF,CAAC,EAA3C,EAA+C;AAC3C,cAAIc,YAAY,CAACE,OAAb,CAAqB,UAArB,KAAoCX,QAAQ,CAACJ,IAAT,CAAcD,CAAd,EAAiBW,QAAzD,EAAmE;AAC/DO,YAAAA,WAAW,CAACd,IAAZ,CAAiBC,QAAQ,CAACJ,IAAT,CAAcD,CAAd,CAAjB;AACH;AACJ;;AACDM,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BW,WAA5B;;AAEA,aAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,WAAW,CAAChB,MAAhC,EAAwCU,CAAC,EAAzC,EAA6C;AACzCN,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBT,GAArB;AAEAqB,UAAAA,SAAS,CAACf,IAAV,CAAeN,GAAG,CAACG,IAAJ,CAASiB,WAAW,CAACN,CAAD,CAAX,CAAeQ,SAAxB,CAAf;AACH;;AACD,aAAK5C,QAAL,CAAc;AAAEe,UAAAA,OAAO,EAAE4B;AAAX,SAAd;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBY,SAAnB;AAEA,YAAIE,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACjB,MAA9B,EAAsCoB,CAAC,EAAvC,EAA2C;AACvC,cAAIJ,WAAW,CAACI,CAAD,CAAX,CAAeL,WAAf,IAA8B,MAAlC,EAA0C;AACtCI,YAAAA,KAAK,CAACjB,IAAN,CAAWe,SAAS,CAACG,CAAD,CAApB;AACH;AACJ;;AACD,aAAK9C,QAAL,CAAc;AAAEgB,UAAAA,QAAQ,EAAE6B;AAAZ,SAAd;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAK7B,KAAL,CAAWc,QAApC;AACH,OA1BD;AA2BH,KA5BD;AA8BH;;AAEDC,EAAAA,YAAY,CAAC+B,CAAD,EAAI;AACZ,SAAKhD,QAAL,CAAc;AAAE,OAACgD,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAA5B,KAAd;AACH;;AAEDC,EAAAA,MAAM,CAACC,SAAD,EAAY;AACdpF,IAAAA,KAAK,CAACmD,GAAN,CAAU,+BAAV,EAA2CC,IAA3C,CAAgDC,GAAG,IAAI;AACnDQ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BT,GAAG,CAACG,IAAjC;AACA,UAAIF,GAAG,GAAG,EAAV;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAA7B,EAAqCF,CAAC,EAAtC,EAA0C;AACtC,YAAIF,GAAG,CAACG,IAAJ,CAASD,CAAT,EAAY6B,SAAZ,IAAyBA,SAAzB,IAAsC/B,GAAG,CAACG,IAAJ,CAASD,CAAT,EAAYG,MAAZ,IAAsB,IAAhE,EAAsE;AAClEJ,UAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACG,IAAJ,CAASD,CAAT,CAAT;AACH;AACJ;;AACD,WAAKxB,QAAL,CAAc;AAAEY,QAAAA,OAAO,EAAEW;AAAX,OAAd;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAK7B,KAAL,CAAWU,OAApC;AACH,KAVD;AAWH;;AAED0C,EAAAA,MAAM,GAAG;AACLrF,IAAAA,KAAK,CAACsF,IAAN,CAAW,8BAAX,EAA2C;AACvC7C,MAAAA,GAAG,EAAE,KAAKR,KAAL,CAAWQ,GADuB;AAEvCC,MAAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWS;AAFkB,KAA3C,EAIKU,IAJL,CAIWQ,QAAD,IAAc;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAQ,CAACJ,IAA3C;AACAa,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCiB,QAAQ,CAAC3B,QAAQ,CAACJ,IAAT,CAAchB,GAAf,CAAzC;AACA6B,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCV,QAAQ,CAACJ,IAAT,CAAcf,GAAhD;AACAoB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCO,YAAY,CAACE,OAAb,CAAqB,OAArB,CAAlC;AACH,KATL,EAUKiB,KAVL,CAUYC,KAAD,IAAW;AACd5B,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B2B,KAA3B;AACH,KAZL;AAaH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAW,MAAA,EAAE,EAAC,WAAd;AACI,MAAA,KAAK,EAAC,YADV;AAEI,MAAA,IAAI,MAFR;AAGI,MAAA,MAAM,EAAC,IAHX;AAII,MAAA,SAAS,MAJb;AAKI,MAAA,SAAS,EAAC,gBALd;AAMI,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,MAAM,EAAE,MAAhC;AAAwCC,QAAAA,KAAK,EAAE,MAA/C;AAAuDC,QAAAA,KAAK,EAAE,QAA9D;AAAwEC,QAAAA,UAAU,EAAE,KAApF;AAA2FC,QAAAA,YAAY,EAAE;AAAzG,OANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAC,sBAAT;AAAgC,MAAA,EAAE,EAAC,aAAnC;AAAiD,MAAA,GAAG,EAAC,WAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CATJ,EAYI,oBAAC,gBAAD;AACI,MAAA,KAAK,EAAC,0BADV;AAEI,MAAA,OAAO,EAAE,KAAK9D,cAAL,CAAoB,gBAApB,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,EAgBI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,gBADP;AAEI,MAAA,MAAM,EAAE,KAAKD,KAAL,CAAWE,UAFvB;AAGI,MAAA,MAAM,MAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMI,oBAAC,YAAD;AAAc,MAAA,KAAK,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,EAAE,EAAC,GAAf;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CADJ,EAII,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,EAAE,EAAC,GAAf;AAAmB,MAAA,SAAS,EAAC,SAA7B;AAAuC,MAAA,OAAO,EAAE,MAAM;AAClDkC,QAAAA,YAAY,CAAC4B,UAAb,CAAwB,UAAxB;AACA5B,QAAAA,YAAY,CAAC4B,UAAb,CAAwB,UAAxB;AACH,OAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CAJJ,CANJ,CAhBJ,CADJ,EAsCI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,KAAK,EAAE;AAAEF,QAAAA,UAAU,EAAE;AAAd,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAiD,KAAK9D,KAAL,CAAWU,OAAX,CAAmBc,MAApE,iCADJ,EAEK,KAAKxB,KAAL,CAAWU,OAAX,CAAmBc,MAAnB,GAA4B,CAA5B,GAAiC,KAAKxB,KAAL,CAAWU,OAAX,CAAmBuD,IAAnB,CAAwB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAAE,aAAOA,CAAC,CAAC5D,GAAF,GAAQ2D,CAAC,CAAC3D,GAAjB;AAAsB,KAA1D,EAA4D6D,GAA5D,CAAgE,CAACvD,OAAD,EAAUN,GAAV,KAC9F;AAAK,MAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK6B,YAAY,CAACC,OAAb,CAAqB,cAAcxB,OAAO,CAACN,GAA3C,EAAgDM,OAAO,CAACN,GAAxD,CADL,EAEI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKM,OAAO,CAACN,GAAR,GAAc,CAAd,IAAmB,CAAnB,GACG;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,4BAAX;AAAwC,MAAA,GAAG,EAAE,mCAAmCM,OAAO,CAACwD,KAAxF;AAA+F,MAAA,GAAG,EAAExD,OAAO,CAACyD,KAA5G;AAAmH,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAK,EAAE,KAAT;AAAgBU,QAAAA,MAAM,EAAE,MAAxB;AAAgCC,QAAAA,SAAS,EAAE,MAA3C;AAAmDZ,QAAAA,KAAK,EAAE,MAA1D;AAAkEa,QAAAA,MAAM,EAAE;AAA1E,OAA1H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGI;AAAK,MAAA,KAAK,EAAC,4BAAX;AAAwC,MAAA,GAAG,EAAE,mCAAmC5D,OAAO,CAAC6D,MAAxF;AAAgG,MAAA,GAAG,EAAE7D,OAAO,CAACyD,KAA7G;AAAoH,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAK,EAAE,KAAT;AAAgBU,QAAAA,MAAM,EAAE,KAAxB;AAA+BE,QAAAA,MAAM,EAAE;AAAvC,OAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAGkL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHlL,EAII;AAAK,MAAA,KAAK,EAAC,4BAAX;AAAwC,MAAA,GAAG,EAAE,mCAAmC5D,OAAO,CAAC8D,MAAxF;AAAgG,MAAA,GAAG,EAAE9D,OAAO,CAACyD,KAA7G;AAAoH,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAK,EAAE,KAAT;AAAgBU,QAAAA,MAAM,EAAE,KAAxB;AAA+BE,QAAAA,MAAM,EAAE;AAAvC,OAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ,EAOI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAC,YAAV;AAAuB,MAAA,KAAK,EAAE;AAAEG,QAAAA,KAAK,EAAE,kBAAT;AAA6BC,QAAAA,UAAU,EAAE;AAAzC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkFhE,OAAO,CAACyD,KAA1F,CADJ,CADJ,EAII;AAAI,MAAA,KAAK,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAjB,OAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,geAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKtE,KAAL,CAAWc,QADhB,CALJ,CAPJ,CADJ,EAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,CADH,GAsBO;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAC,YAAV;AAAuB,MAAA,KAAK,EAAE;AAAE8D,QAAAA,KAAK,EAAE,kBAAT;AAA6BC,QAAAA,UAAU,EAAE;AAAzC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkFhE,OAAO,CAACyD,KAA1F,CADJ,CADJ,EAII;AAAI,MAAA,KAAK,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAjB,OAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,geAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADJ,EAUI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,4BAAX;AAAwC,MAAA,GAAG,EAAE,mCAAmCzD,OAAO,CAACwD,KAAxF;AAA+F,MAAA,GAAG,EAAExD,OAAO,CAACyD,KAA5G;AAAmH,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAK,EAAE,KAAT;AAAgBU,QAAAA,MAAM,EAAE,MAAxB;AAAgCX,QAAAA,KAAK,EAAE,OAAvC;AAAgDa,QAAAA,MAAM,EAAE;AAAxD,OAA1H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGI;AAAK,MAAA,KAAK,EAAC,4BAAX;AAAwC,MAAA,GAAG,EAAE,mCAAmC5D,OAAO,CAAC6D,MAAxF;AAAgG,MAAA,GAAG,EAAE7D,OAAO,CAACyD,KAA7G;AAAoH,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAK,EAAE,KAAT;AAAgBU,QAAAA,MAAM,EAAE,KAAxB;AAA+BE,QAAAA,MAAM,EAAE;AAAvC,OAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAK,MAAA,KAAK,EAAC,4BAAX;AAAwC,MAAA,GAAG,EAAE,mCAAmC5D,OAAO,CAAC8D,MAAxF;AAAgG,MAAA,GAAG,EAAE9D,OAAO,CAACyD,KAA7G;AAAoH,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAK,EAAE,KAAT;AAAgBU,QAAAA,MAAM,EAAE,KAAxB;AAA+BE,QAAAA,MAAM,EAAE;AAAvC,OAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAVJ,CADJ,CAvBZ,CADJ,CAFJ,EAmDI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnDJ,CAD8B,CAAjC,GAuDK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAR,CAzDV,CADJ,CAtCJ,CADJ;AAuGH;;AAnSgC;;AAuSrC,MAAMK,eAAe,GAAI9E,KAAD,IAAW;AAC/B,SAAO;AACH+E,IAAAA,MAAM,EAAE/E;AADL,GAAP;AAGH,CAJD;;AAKA,eAAelC,OAAO,CAACgH,eAAD,CAAP,CAAyBrF,MAAzB,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport Footer from './../components/Footer';\nimport { Redirect } from 'react-router-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { MDBNavbar, MDBInput, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBContainer } from \"mdbreact\";\nimport { MDBCarousel, MDBCarouselCaption, MDBCarouselInner, MDBCarouselItem, MDBView, MDBMask } from \"mdbreact\";\nimport { MDBBtn, MDBDropdown, MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem } from 'mdbreact';\nimport { confirmAlert } from 'react-confirm-alert';\nimport './article.css'\nimport 'react-confirm-alert/src/react-confirm-alert.css'\n\nclass Panier extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nom: '',\n            password: '',\n            collapseID: \"\",\n            comment: [],\n            list: [],\n            clientList: [],\n            modal: '',\n            service: [],\n            resultat: []\n        };\n        this.handleChange = this.handleChange.bind(this)\n    }\n\n    toggle = () => {\n        this.setState({\n            modal: !this.state.modal,\n        });\n    }\n\n\n    toggleCollapse = collapseID => () =>\n        this.setState(prevState => ({\n            collapseID: prevState.collapseID !== collapseID ? collapseID : \"\"\n        }));\n\n    renderRedirect = () => {\n        if (this.state.redirect) {\n            var url = '/service/' + this.state._id\n            return <Redirect to={url} />\n        }\n    }\n\n    componentDidMount() {\n        \n        axios.get(\"http://localhost:8080/service\").then(res => {\n            var tab = []\n            for (let i = 0; i < res.data.length; i++) {\n                if (res.data[i].active == true) {\n                    tab.push(res.data[i])\n                }\n                // localStorage.setItem('idService' + res.data[i]._id, res.data[i]._id)\n            }\n            this.setState({ comment: tab })\n            axios.get('http://localhost:8080/getList').then(response => {\n                this.setState({ list: response.data })\n                console.log('listPANIER:', this.state.list);\n                \n                var tab1 = []\n                var obj = {}\n                var out = []\n                for (let i = 0; i < this.state.list.length; i++) {\n                    tab1.push(this.state.list[i].idClient)\n                    obj[tab1[i]] = 0;\n                }\n                for (let j in obj) {\n                    console.log('j:', j);\n                    out.push(j)\n                }\n                this.setState({ clientList: out })\n                console.log('clientListPANIER', clientList);\n                \n                for (let k = 0; k < out.length; k++) {\n                    localStorage.setItem('clientList' + k, out[k])\n                    console.log('LOCALclientListPANIER:', localStorage.getItem('clientList'));\n                }\n                console.log('list:', this.state.list);\n                if (this.state.list.length < this.state.comment.length) {\n                    for (let j = 0; j < this.state.list.length; j++) {\n                        localStorage.setItem('afficheList' + this.state.comment[j]._id, this.state.list[j].afficheList)\n                    }\n                    for (let j = this.state.list.length; j < this.state.comment.length; j++) {\n                        // localStorage.setItem('afficheList' + this.state.comment[j]._id, 'false')\n                    }\n                } else {\n                    for (let j = 0; j < this.state.list.length; j++) {\n                        localStorage.setItem('afficheList' + this.state.list[j]._id, this.state.list[j].afficheList)\n                    }\n                }\n\n\n                //DEBUT\n                var listService = []\n                var tabListOK = []\n                for (let i = 0; i < this.state.list.length; i++) {\n                    if (localStorage.getItem('idClient') == this.state.list[i].idClient) {\n                        listService.push(this.state.list[i])\n                    }\n                }\n                console.log('ListService:', listService);\n\n                for (let j = 0; j < listService.length; j++) {\n                    tabListOK.push(res.data[listService[j].idService])\n                }\n                this.setState({ service: tabListOK })\n                console.log('OK:', tabListOK);\n\n                var resul = []\n                for (let x = 0; x < tabListOK.length; x++) {\n                    if (listService[x].afficheList == 'true') {\n                        // localStorage.setItem('afficheList' + tabListOK[x]._id, 'true')\n                        resul.push(tabListOK[x])\n                    } \n                    // else {\n                    //     localStorage.setItem('afficheList' + tabListOK[x]._id, 'false')\n                    //     resul.push({ idServ: tabListOK[x]._id, aff: false })\n                    // }\n                }\n                this.setState({ comment: resul })\n                console.log('res mody:', this.state.comment);\n                //FIN \n\n            })\n        })\n\n    }\n\n    affichages() {\n        axios.get(\"http://localhost:8080/service\").then(res => {\n            axios.get('http://localhost:8080/getList').then(response => {\n                var listService = []\n                var tabListOK = []\n                for (let i = 0; i < response.data.length; i++) {\n                    if (localStorage.getItem('idClient') == response.data[i].idClient) {\n                        listService.push(response.data[i])\n                    }\n                }\n                console.log('ListService:', listService);\n\n                for (let j = 0; j < listService.length; j++) {\n                    console.log('test:', res);\n\n                    tabListOK.push(res.data[listService[j].idService])\n                }\n                this.setState({ service: tabListOK })\n                console.log('OK:', tabListOK);\n\n                var resul = []\n                for (let x = 0; x < tabListOK.length; x++) {\n                    if (listService[x].afficheList == 'true') {\n                        resul.push(tabListOK[x])\n                    }\n                }\n                this.setState({ resultat: resul })\n                console.log('res mody:', this.state.resultat);\n            })\n        })\n\n    }\n\n    handleChange(e) {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n\n    triage(categorie) {\n        axios.get(\"http://localhost:8080/service\").then(res => {\n            console.log('res comment: ', res.data)\n            var tab = []\n            for (let i = 0; i < res.data.length; i++) {\n                if (res.data[i].categorie == categorie && res.data[i].active == true) {\n                    tab.push(res.data[i])\n                }\n            }\n            this.setState({ comment: tab })\n            console.log('comment: ', this.state.comment)\n        })\n    }\n\n    signin() {\n        axios.post('http://localhost:8080/signin', {\n            nom: this.state.nom,\n            password: this.state.password\n        })\n            .then((response) => {\n                console.log(\"post ok: res.data \", response.data);\n                localStorage.setItem('idClient', parseInt(response.data._id))\n                localStorage.setItem('nomClient', response.data.nom)\n                console.log('reducer REGISTER: ', localStorage.getItem('login'));\n            })\n            .catch((error) => {\n                console.log(\"erreur be: \", error);\n            });\n    }\n\n    render() {\n        return (\n            <div>\n                <MDBNavbar id=\"Totalhome\"\n                    color=\"bg-primary\"\n                    dark\n                    expand=\"md\"\n                    scrolling\n                    className='position-fixed'\n                    style={{ position: 'absolute', zIndex: '1000', float: 'left', width: '103.2%', marginLeft: '-3%', marginBottom: '10%' }}\n                >\n\n                    <MDBNavbarBrand>\n                        <img src=\"../images/logoPM.png\" id=\"logo-header\" alt=\"imagelogo\" />\n                    </MDBNavbarBrand>\n                    <MDBNavbarToggler\n                        image=\"../images/hamburger3.gif\"\n                        onClick={this.toggleCollapse(\"navbarCollapse\")}\n                    />\n                    <MDBCollapse\n                        id=\"navbarCollapse\"\n                        isOpen={this.state.collapseID}\n                        navbar\n                    >\n\n                        <MDBNavbarNav right>\n                            <MDBNavItem className='item'>\n                                <MDBNavLink to=\"/\" className=\"item accueil\">Accueil</MDBNavLink>\n                            </MDBNavItem>\n                            <MDBNavItem className='item'>\n                                <MDBNavLink to=\"/\" className=\"accueil\" onClick={() => {\n                                    localStorage.removeItem('idClient')\n                                    localStorage.removeItem('idClient')\n                                }}>Déconnexion</MDBNavLink>\n                            </MDBNavItem>\n\n                        </MDBNavbarNav>\n                    </MDBCollapse>\n\n                </MDBNavbar>\n                <div className='container-fluid'>\n                    <div className='row'>\n                        <p style={{ marginLeft: '43%' }}>************** {this.state.comment.length} résultats **************</p>\n                        {this.state.comment.length > 0 ? (this.state.comment.sort((a, b) => { return b._id - a._id }).map((service, _id) => (\n                            <div key={_id}>\n                                {localStorage.setItem('idService' + service._id, service._id)}\n                                <div className=\"card col-md-12 carte \">\n                                    <div class=\"card-body\">\n                                        {service._id % 2 == 0 ? (\n                                            <div className='container-fluid'>\n                                                <div className=\"row\">\n                                                    <div className=\"col-md-6\">\n                                                        <img class=\"card-img-top img-thumbnail\" src={\"http://localhost:8080/service/\" + service.image} alt={service.titre} style={{ width: '80%', height: '100%', maxHeight: '100%', float: 'left', border: \"none\" }} />\n\n                                                        <img class=\"card-img-top img-thumbnail\" src={\"http://localhost:8080/service/\" + service.image1} alt={service.titre} style={{ width: '20%', height: '50%', border: \"none\" }} /><br />\n                                                        <img class=\"card-img-top img-thumbnail\" src={\"http://localhost:8080/service/\" + service.image2} alt={service.titre} style={{ width: '20%', height: '50%', border: \"none\" }} />\n                                                    </div>\n                                                    <div className=\"col-md-6\">\n                                                        <center>\n                                                            <h2 class=\"card-title\" style={{ color: 'rgb(255, 20, 51)', fontWeight: 'bold' }}>{service.titre}</h2>\n                                                        </center>\n                                                        <h5 class=\"test\"><u>Description:</u> <br />Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ad minus magni similique dignissimos assumenda labore iure velit voluptatibus doloribus adipisci soluta voluptas illum vero, excepturi sapiente laborum deserunt, sint ipsa. Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt nam facilis quae! Laborum maxime dolores aspernatur error fugit perspiciatis, recusandae, voluptas accusantium libero molestiae laudantium iure porro similique voluptatibus quis?</h5>\n                                                        <p>\n                                                            {this.state.resultat}\n                                                        </p>\n\n                                                    </div>\n                                                </div>\n                                                <br />\n                                            </div>) : (\n                                                <div className='container-fluid'>\n                                                    <div className=\"row\">\n                                                        <div className=\"col-md-6\">\n                                                            <center>\n                                                                <h2 class=\"card-title\" style={{ color: 'rgb(255, 20, 51)', fontWeight: 'bold' }}>{service.titre}</h2>\n                                                            </center>\n                                                            <h5 class=\"test\"><u>Description:</u> <br />Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ad minus magni similique dignissimos assumenda labore iure velit voluptatibus doloribus adipisci soluta voluptas illum vero, excepturi sapiente laborum deserunt, sint ipsa. Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt nam facilis quae! Laborum maxime dolores aspernatur error fugit perspiciatis, recusandae, voluptas accusantium libero molestiae laudantium iure porro similique voluptatibus quis?</h5>\n                                                            <p>\n\n                                                            </p>\n                                                        </div>\n                                                        <div className=\"col-md-6\">\n                                                            <img class=\"card-img-top img-thumbnail\" src={\"http://localhost:8080/service/\" + service.image} alt={service.titre} style={{ width: '80%', height: '100%', float: 'right', border: \"none\" }} />\n\n                                                            <img class=\"card-img-top img-thumbnail\" src={\"http://localhost:8080/service/\" + service.image1} alt={service.titre} style={{ width: '20%', height: '50%', border: \"none\" }} />\n                                                            <img class=\"card-img-top img-thumbnail\" src={\"http://localhost:8080/service/\" + service.image2} alt={service.titre} style={{ width: '20%', height: '50%', border: \"none\" }} />\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            )}\n\n                                    </div>\n                                    {/* <img class=\"card-img-top img-thumbnail\" src={\"https://tsiorytahback.herokuapp.com/service/\" + service.image} alt={service.titre} /> */}\n\n                                </div>\n                                <br />\n                            </div >\n                        )\n                        )) : (<center><strong>Vous n'avez pas de liste</strong></center>)\n                        }\n                    </div>\n                </div >\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        client: state\n    }\n}\nexport default connect(mapStateToProps)(Panier)"]},"metadata":{},"sourceType":"module"}